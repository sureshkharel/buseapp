(this.webpackJsonpbuseapp=this.webpackJsonpbuseapp||[]).push([[0],{130:function(e,t,a){e.exports=a.p+"static/media/banner.1a935e82.jpg"},131:function(e,t,a){e.exports=a.p+"static/media/seeproduct.547b7138.jpg"},133:function(e,t,a){e.exports=a(301)},138:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),o=a.n(c),i=(a(138),a(3)),s=a(4),l=a(6),u=a(5),m=a(12),p=a(1),d=a(20),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(m.b,{className:"navbar-brand",to:"/"},"Buse ECommerce"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link",to:"/productList"},"Products")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link",to:"/userReg"},"Register")))))))}}]),a}(n.Component),b=a(9),v=a.n(b),E=a(24),f=(a(277),a(130)),g=a.n(f),N=a(131),y=a.n(N),k=Object(d.withAuth)(function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:null},e.checkAuthentication=Object(E.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.auth.isAuthenticated();case 2:(a=t.sent)!==e.state.authenticated&&e.setState({authenticated:a});case 4:case"end":return t.stop()}}),t)}))),e.login=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.auth.login("/");case 1:case"end":return t.stop()}}),t)}))),e.logout=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.auth.logout("/");case 1:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null===this.state.authenticated)return null;var e=this.state.authenticated?r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},"Welcome to the buse ecommerce portal,"," "),r.a.createElement(m.b,{className:"btn btn-light btn-lg",to:"/productAdd"},"Add Product")," \xa0 \xa0 \xa0 \xa0 \xa0",r.a.createElement("button",{className:"btn btn-light btn-lg",onClick:this.logout},"Logout")):r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:g.a,alt:"loginbanner"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-text"},r.a.createElement("p",{className:"lead"},"Just came to view product, go through this link ;)"),r.a.createElement(m.b,{className:"btn btn-dark btn-md",to:"/productList"},"Products"))))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:y.a,alt:"loginbanner"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-text"},r.a.createElement("p",{className:"lead"},"For beginning your selling journey follow here."),r.a.createElement("button",{className:"btn btn-dark btn-md",onClick:this.login},"Login")))))));return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-4"},"BUSE Ecommerce"),r.a.createElement("p",null,"Welcome to the platform where you can sell your existing item. As well if you get interested to some of the product listed here, ofcourse buy it too. That's what BUSE serves you!!!")),r.a.createElement("div",{className:"container"},e))}}]),a}(n.Component)),j=a(15),O=a(23),C=a.n(O),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={currentUserName:"",currentUserEmail:"",productName:"",productPrice:"",productDescription:"",productImage:""},n.onResetting=function(){document.getElementById("productForm").reset()},n.onChangeName=n.onChangeName.bind(Object(j.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(j.a)(n)),n.onChangePrice=n.onChangePrice.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.state={productName:"",productDescription:"",productPrice:""},n}return Object(s.a)(a,[{key:"onChangeName",value:function(e){this.setState({productName:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({productDescription:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({productPrice:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),alert("Product added");var t={productName:this.state.productName,productDescription:this.state.productDescription,productPrice:this.state.productPrice};C.a.post("http://localhost:4000/api/products/add",t).then((function(e){return console.log(e.data)})),this.setState({productName:"",productDescription:"",productPrice:""})}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("okta-token-storage"));this.setState({currentUserEmail:e.idToken.claims.email,currentUserName:e.idToken.claims.name})}},{key:"render",value:function(){var e=this.state;e.currentUserEmail,e.currentUserName;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Add Product"),r.a.createElement("form",{id:"productForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Name"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.productName,id:"productname",placeholder:"Enter product name",onChange:this.onChangeName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Price"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.productPrice,id:"productprice",placeholder:"Enter product price",onChange:this.onChangePrice})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Description"),r.a.createElement("input",{type:"textarea",className:"form-control",value:this.state.productDescription,id:"productDescription",placeholder:"Enter product detail",onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Example file input"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"SAVE",className:"btn btn-primary"})," \xa0 \xa0 \xa0 \xa0 \xa0",r.a.createElement("input",{type:"button",value:"RESET",className:"btn btn-danger",onClick:this.onResetting})))))}}]),a}(n.Component),P=a(132),S=a.n(P),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=o.a.findDOMNode(this);this.widget=new S.a({baseUrl:this.props.baseUrl}),this.widget.renderEl({el:e},this.props.onSuccess,this.props.onError)}},{key:"componentWillUnmount",value:function(){this.widget.remove()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),x=Object(d.withAuth)(function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSuccess=function(e){return n.props.auth.redirect({sessionToken:e.session.token})},n.onError=function(e){console.log("error logging in",e)},n.state={authenticated:null},n.checkAuthentication(),n}return Object(s.a)(a,[{key:"checkAuthentication",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.isAuthenticated();case 2:(t=e.sent)!==this.state.authenticated&&this.setState({authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"render",value:function(){return null===this.state.authenticated?null:this.state.authenticated?r.a.createElement(p.Redirect,{to:{pathname:"/"}}):r.a.createElement("div",{className:"card shadow p-3 mb-5 bg-white rounded",style:{position:"absolute",top:"30%",left:"30%",width:"50%"}},r.a.createElement(w,{baseUrl:this.props.baseUrl,onSuccess:this.onSuccess,onError:this.onError}))}}]),a}(n.Component)),U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron"},"Page under construction")}}]),a}(n.Component),A=(a(300),function(e){return r.a.createElement("div",{className:"card",style:{width:"25rem",margin:"10px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.product.productName),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.product.productPrice),r.a.createElement("p",{className:"card-text"},e.product.productDescription),r.a.createElement(m.b,{to:"/edit/"+e.product._id},"Edit")))}),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={products:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:4000/api/products/").then((function(t){e.setState({products:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){var e=this;C.a.get("http://localhost:4000/api/products/").then((function(t){e.setState({products:t.data})})).catch((function(e){console.log(e)}))}},{key:"productsList",value:function(){return this.state.products.map((function(e,t){return r.a.createElement(A,{product:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.productsList())}}]),a}(n.Component),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={currentUserName:"",currentUserEmail:"",productName:"",productPrice:"",productDescription:"",productImage:""},n.onChangeName=n.onChangeName.bind(Object(j.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(j.a)(n)),n.onChangePrice=n.onChangePrice.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.state={productName:"",productPrice:"",productDescription:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("okta-token-storage"));this.setState({currentUserEmail:e.idToken.claims.email,currentUserName:e.idToken.claims.name})}},{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:4000/api/products/"+this.props.match.params.id).then((function(t){e.setState({productName:t.data.productName,productPrice:t.data.productPrice,productDescription:t.data.productDescription})})).catch((function(e){console.log(e)}))}},{key:"onChangeName",value:function(e){this.setState({productName:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({productDescription:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({productPrice:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("Updated successfully");var t={productName:this.state.productName,productDescription:this.state.productDescription,productPrice:this.state.productPrice};C.a.post("http://localhost:4000/api/products/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),this.props.history.push("/productList")}},{key:"render",value:function(){var e=this.state;e.currentUserEmail,e.currentUserName;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Update Product"),r.a.createElement("form",{id:"productForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Name"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.productName,id:"productname",onChange:this.onChangeName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Price"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.productPrice,id:"productprice",onChange:this.onChangePrice})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Description"),r.a.createElement("input",{type:"textarea",className:"form-control",value:this.state.productDescription,id:"productDescription",onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Example file input"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"UPDATE",className:"btn btn-primary"})," \xa0 \xa0 \xa0 \xa0 \xa0"))))}}]),a}(n.Component);function L(e){e.history.push("/login")}var M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.Security,{issuer:"https://dev-592092.okta.com/oauth2/default",client_id:"0oacsjdy9qbgpjcb84x6",redirect_uri:window.location.origin+"/implicit/callback",onAuthRequired:L},r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement("div",{className:"container"},r.a.createElement(p.Route,{path:"/",exact:!0,component:k}),r.a.createElement(d.SecureRoute,{path:"/productAdd",exact:!0,component:D}),r.a.createElement(p.Route,{path:"/productList",exact:!0,component:R}),r.a.createElement(d.SecureRoute,{path:"/edit/:id",exact:!0,component:F}),r.a.createElement(p.Route,{path:"/userReg",exact:!0,component:U}),r.a.createElement(p.Route,{path:"/login",render:function(){return r.a.createElement(x,{baseUrl:"https://dev-592092.okta.com"})}}),r.a.createElement(p.Route,{path:"/implicit/callback",component:d.ImplicitCallback})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.f4845b73.chunk.js.map